@(step: models.Step, formStep: Form[forms.Step])

@mainDashboard("Modifier une étape", "step") {
	<ul class="breadcrumb">
		<li><a href="@routes.Manager.dashboard()">Tableau de bord</a></li>
		<li><a href="#"><span class="hunt-name">@step.getHunt().getLabel()</span></a></li>
		<li><a href="#">&Eacute;tape @step.getNumber()</a></li>
		<li><a>Modifier l'étape</a></li>
	</ul>
} {
	<div class="row-fluid">
		<div class="span4">
			@helper.form(action = routes.Step.submitUpdateForm(step.getId()), 
				'id -> "create-step", 
				'class -> "form-horizontal", 
				Symbol("data-area") -> step.getHunt().getArea().toTemplateString()) {
				<blockquote>
					Une étape regroupe un ensemble d'énigmes qui se déroule dans un périmètre géographique restreint. Le joueur sera guidé grâce à son smartphone vers la position de départ !
				</blockquote>
				<div class="control-group">
					<label class="control-label" for="description-step">Description de l'étape</label>
					<div class="controls">
						<textarea class="span12" id="description-step" name="@formStep("description").name">@formStep("description").value</textarea>
						<p class="help-block">Soyez créatif !</p>
					</div>
				</div>
				<div class="control-group">
					<label class="control-label" for="position-step-display">Position</label>
					<div class="controls">
						<input type="text" class="span12" id="position-step-display" readonly="readonly" />
						<input type="hidden" id="position-step" name="@formStep("position").name" value="@formStep("position").value" />
					</div>
				</div>
				<div class="control-group">
					<label class="control-label" for="accuracy-step">Précision</label>
					<div class="controls">
						<div class="input-append">
							<input type="text" class="span12" id="accuracy-step" name="@formStep("accuracy").name" value="@formStep("accuracy").value" />
							<span class="add-on">mètres<span>
						</div>
						<p class="help-block">Placez le marqueur sur la position qui permet de démarrer l'étape</p>
					</div>
				</div>
				<div class="form-actions">
					<a class="btn pushable" href="@routes.Hunt.show(step.getHunt().getId())">Annuler</a>
					<button type="submit" name="submit-step" class="btn pushable">Enregistrer</button>
				</div>
			}
		</div>

		<div class="span8">
			@includes.map("step-map")
		</div>

	</div>
}