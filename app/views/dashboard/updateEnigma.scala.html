@(enigma: models.Enigma, formEnigma: Form[forms.Enigma])

@import helpers._

@mainDashboard("Modifier une énigme", "dashboard/enigma") {
	<ul class="breadcrumb">
		<li><a href="@routes.ManagerController.dashboard()">Tableau de bord</a></li>
		<li><a href="@routes.HuntController.show(enigma.getStep().getHunt().getId())"><span class="hunt-name">@enigma.getStep().getHunt().getLabel()</span></a></li>
		<li><a href="@routes.HuntController.show(enigma.getStep().getHunt().getId())">&Eacute;tape @enigma.getStep().getNumber()</a></li>
		<li><a href="@routes.HuntController.show(enigma.getStep().getHunt().getId())">&Eacute;nigme @enigma.getNumber()</a></li>
		<li><a>Modifier l'énigme</a></li>
	</ul>
} {
	<div class="row-fluid">
		<div class="span4">
			@helper.form(action = routes.EnigmaController.submitUpdateForm(enigma.getId()), 
				'id -> "create-enigma", 
				'class -> "form-horizontal",
				Symbol("data-area") -> enigma.getStep().getHunt().getArea().toTemplateString(),
				Symbol("data-start-position") -> enigma.getStep().getPosition().toTemplateString(),
				Symbol("data-start-accuracy") -> Float.toString(enigma.getStep().getPosition().getAccuracy())) {
				@includes.formEnigma(formEnigma)
				<div class="form-actions">
					<a class="btn pushable" href="@routes.HuntController.show(enigma.getStep().getHunt().getId())">Annuler</a>
					<button type="submit" name="submit-enigma" class="pushable btn">Enregistrer</button>
				</div>
			}
		</div>

		<div class="span8">
			@includes.map("enigma-map")
		</div>
	</div>

	@includes.hiddenFormEnigma(formEnigma)
}